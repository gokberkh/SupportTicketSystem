{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ticketSystem\\\\frontend\\\\src\\\\components\\\\TicketShow.js\";\nimport React, { Component, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Dropdown, Badge, Modal } from 'react-bootstrap';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from 'react-bootstrap';\n\nclass ShowTickets extends Component {\n  constructor() {\n    super();\n\n    this.getTicket = test => {\n      return axios.get('tickets/getTicketAll', {}).then(response => {\n        this.setState({\n          data: response.data\n        });\n        let names = [];\n        response.data.map(item => {\n          names.push(item.name);\n        });\n        this.setState({\n          namesData: names\n        });\n        console.log(response.data);\n        return response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.editSearchTerm = e => {\n      if (e.target.value) {\n        this.setState({\n          search: e.target.value\n        });\n        const newData = this.state.data.filter(item => {\n          const itemData = `${item.name.toUpperCase()} ${item.name.toUpperCase()} ${item.name.toUpperCase()}`;\n          const textData = e.target.value.toUpperCase();\n          return itemData.indexOf(textData) > -1;\n        });\n        this.setState({\n          data: newData\n        });\n      } else {\n        this.setState({\n          search: ''\n        });\n        this.getTicket();\n      }\n    };\n\n    this.handleShow = id => this.setState({\n      show: true,\n      id: id\n    });\n\n    this.MakeItem = function (X) {\n      console.log(X);\n      return /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 12\n        }\n      }, X);\n    };\n\n    this.state = {\n      data: [],\n      show: false,\n      message: '',\n      id: '',\n      search: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleClose(id, messages) {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleAddMessage(id, messages) {\n    this.addMessage(id, messages);\n    this.setState({\n      show: false\n    });\n    this.getTicket();\n  }\n\n  componentDidMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    this.getTicket();\n    this.setState({\n      role: decoded.role\n    });\n  }\n\n  changeStatus(id, status) {\n    return axios.put('tickets/changeStatus', {\n      id,\n      status\n    }).then(response => {\n      this.getTicket();\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  statusFilter(status) {\n    return axios.post('tickets/filterStatus', {\n      status\n    }).then(response => {\n      this.setState({\n        data: response.data\n      });\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  addMessage(id, messages) {\n    return axios.post('tickets/addMessages', {\n      id,\n      messages\n    }).then(response => {\n      this.setState({\n        data: response.data\n      });\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  statusName(status) {\n    switch (status) {\n      case 0:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 20\n          }\n        }, \"Opening\"));\n\n      case 1:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 18\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 22\n          }\n        }, \"Waiting\"));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 20\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 24\n          }\n        }, \"Closed\"));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 20\n          }\n        }, \"Opening\"));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }\n    }, this.state.role === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, \"ADMIN PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 51\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      className: \"mx-1\",\n      onClick: () => this.statusFilter(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }\n    }, \"Closed\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      className: \"mx-1\",\n      onClick: () => this.getTicket(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }\n    }, \"ALL\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        float: \"right\"\n      },\n      value: this.state.search,\n      placeholder: \"Search TicketName\",\n      type: \"text\",\n      onChange: this.editSearchTerm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, \"\\u0130mage\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 109\n      }\n    }))), row.messages.map(message => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 15\n      }\n    }, message.text), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 15\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      size: \"sm\",\n      variant: \"success\",\n      id: \"dropdown-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 1\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 5\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 5\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 5\n      }\n    }, \"Closed\")))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 1\n      }\n    }, \"   \", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 7\n      }\n    }, \"Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }\n    }, \"Add Message \")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 3\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 5\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }\n    }, \"Add Message\"))))))), \" \")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }\n    }, \"USER PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 48\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }\n    }, \"\\u0130mage\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 13\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 107\n      }\n    }))), row.messages.map(message => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 15\n      }\n    }, message.text), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 1\n      }\n    }, \"   \", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 5\n      }\n    }, \"Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }\n    }, \"Add Message\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 1\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 3\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }\n    }, \"Add Message\"))))))), \" \")))));\n  }\n\n}\n\nexport default ShowTickets;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/src/components/TicketShow.js"],"names":["React","Component","useState","jwt_decode","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Dropdown","Badge","Modal","Paper","Button","ShowTickets","constructor","getTicket","test","get","then","response","setState","data","names","map","item","push","name","namesData","console","log","catch","err","editSearchTerm","e","target","value","search","newData","state","filter","itemData","toUpperCase","textData","indexOf","handleShow","id","show","MakeItem","X","message","handleChange","bind","handleClose","messages","handleAddMessage","addMessage","componentDidMount","token","localStorage","usertoken","decoded","role","changeStatus","status","put","statusFilter","post","statusName","render","float","length","row","index","content","img","text","_id"],"mappings":"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","sourcesContent":["import React, { Component , useState } from 'react'\r\nimport jwt_decode from 'jwt-decode'\r\nimport axios from 'axios'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { Dropdown,Badge,Modal} from 'react-bootstrap';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Button } from 'react-bootstrap';\r\n\r\n\r\nclass ShowTickets extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n     data:[],\r\n     show:false,\r\n     message:'',\r\n     id:'',\r\n     search:'',\r\n\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  getTicket = test => {\r\n    return axios\r\n      .get('tickets/getTicketAll', {\r\n        \r\n      })\r\n      .then(response => {\r\n     \r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n\r\n        let names=[]\r\n      \r\n        response.data.map((item)=>{\r\n          names.push(item.name)\r\n          \r\n        })\r\n        this.setState({\r\n            namesData:names\r\n        })\r\n        console.log(response.data)\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n \r\n  handleChange(e) {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n\r\n  handleClose (id,messages){\r\n\r\n    this.setState({\r\n      show:false,\r\n\r\n    }\r\n  \r\n    );\r\n\r\n  } \r\n  \r\n  editSearchTerm= (e)=>{\r\n\r\n    if(e.target.value){\r\n      this.setState({search:e.target.value})\r\n    \r\n      const newData = this.state.data.filter((item) => {\r\n        const itemData = `${item.name.toUpperCase()} ${item.name.toUpperCase()} ${item.name.toUpperCase()}`;\r\n        const textData = e.target.value.toUpperCase();\r\n    \r\n        return itemData.indexOf(textData) > -1;\r\n      });\r\n      this.setState({\r\n        data: newData,\r\n      });\r\n    }\r\n    else{\r\n      this.setState({\r\n        search:'',\r\n      });\r\n      this.getTicket()\r\n    }\r\n  \r\n   \r\n    \r\n    \r\n    \r\n    \r\n \r\n  }\r\n\r\n  handleAddMessage (id,messages){\r\n\r\n    this.addMessage(id,messages)\r\n\r\n    this.setState({\r\n      show:false,\r\n\r\n    }\r\n    \r\n    );\r\n    this.getTicket()\r\n\r\n  } \r\n  handleShow = (id) => this.setState({show:true,id:id});\r\n\r\n\r\n  componentDidMount() {\r\n\r\n\r\n    const token = localStorage.usertoken\r\n    const decoded = jwt_decode(token)\r\n\r\n    this.getTicket()\r\n\r\n    this.setState({\r\n        role: decoded.role,\r\n      })\r\n\r\n\r\n\r\n    \r\n  \r\n \r\n    \r\n  }\r\n\r\n  changeStatus (id,status) {\r\n    return axios\r\n      .put('tickets/changeStatus', {\r\n        id,\r\n        status\r\n        \r\n      })\r\n      .then(response => {\r\n   \r\n        this.getTicket()\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n   \r\n        console.log(err)\r\n      })\r\n  } \r\n  statusFilter (status) {\r\n    return axios\r\n      .post('tickets/filterStatus', {\r\n        status\r\n      })\r\n      .then(response => {\r\n      \r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n   \r\n\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  addMessage (id,messages) {\r\n    return axios\r\n      .post('tickets/addMessages', {\r\n        id,messages\r\n      })\r\n      .then(response => {\r\n        \r\n  \r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n \r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  \r\n\r\n\r\n  statusName(status) {\r\n    switch(status) {\r\n      case 0:\r\n        return <h5><Badge pill variant=\"primary\">Opening</Badge></h5>\r\n        case 1:\r\n          return <h5><Badge pill variant=\"danger\">Waiting</Badge></h5>\r\n          case 2:\r\n            return <h5><Badge pill variant=\"success\">Closed</Badge></h5>\r\n      default:\r\n        return <h5><Badge pill variant=\"primary\">Opening</Badge></h5>\r\n    }\r\n  }\r\n\r\n  MakeItem = function(X) {\r\n    console.log(X)\r\n    return <option>{X}</option>;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"container\">\r\n          {this.state.role === 1 ?\r\n        <div className=\"jumbotron mt-5\">\r\n          <div className=\"col-sm-8 mx-auto\">\r\n            <h1 className=\"text-center\">ADMIN PAGE<br></br>TICKETS</h1>\r\n          </div>\r\n          \r\n          <Button variant=\"primary\" className=\"mx-1\" onClick={()=>this.statusFilter(0)}>Opening</Button>\r\n          <Button variant=\"danger\" className=\"mx-1\" onClick={()=>this.statusFilter(1)}>Waiting</Button>\r\n          <Button variant=\"success\" className=\"mx-1\" onClick={()=>this.statusFilter(2)}>Closed</Button>\r\n          <Button variant=\"dark\" className=\"mx-1\" onClick={()=>this.getTicket()}>ALL</Button>\r\n          <input style={{float:\"right\"}} value={this.state.search} placeholder=\"Search TicketName\" type=\"text\" onChange={this.editSearchTerm}/>\r\n          <TableContainer component={Paper}>\r\n      \r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n\r\n        <TableHead>\r\n          <TableRow>\r\n            \r\n            <TableCell>TicketName</TableCell>\r\n            <TableCell align=\"right\">Content</TableCell>\r\n            <TableCell align=\"right\">Ä°mage</TableCell>\r\n            <TableCell align=\"right\">Message</TableCell>\r\n            <TableCell align=\"right\">Status</TableCell>\r\n            <TableCell align=\"right\">Change Status</TableCell>\r\n            <TableCell align=\"right\" >Add Message</TableCell>\r\n            \r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody> \r\n              \r\n      {this.state.data.length>0 && this.state.data.map((row,index)=>\r\n         <TableRow key={index}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.name}\r\n              </TableCell>\r\n              <TableCell align=\"right\">{row.content}</TableCell>\r\n              <TableCell align=\"right\"><a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}><img width=\"100px\" src={`http://localhost:5000/public/${row.img}`}></img></a></TableCell>\r\n          \r\n              {row.messages.map((message)=>\r\n              <>\r\n              <span>{message.text}</span>\r\n                <br/>\r\n                </>\r\n              )}\r\n              <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\r\n              \r\n              <TableCell align=\"right\"><Dropdown>\r\n<Dropdown.Toggle    size=\"sm\" variant=\"success\" id=\"dropdown-basic\">\r\n    Change Status\r\n  </Dropdown.Toggle>\r\n\r\n  <Dropdown.Menu>\r\n    <Dropdown.Item  onClick={()=>this.changeStatus(row._id,0)}>Opening</Dropdown.Item>\r\n    <Dropdown.Item onClick={()=>this.changeStatus(row._id,1)}>Waiting</Dropdown.Item>\r\n    <Dropdown.Item onClick={()=>this.changeStatus(row._id,2)}>Closed</Dropdown.Item>\r\n  </Dropdown.Menu>\r\n</Dropdown></TableCell>\r\n<TableCell align=\"right\">   <>\r\n      <Button    name=\"addButton\" size=\"sm\" variant=\"primary\" onClick={()=>this.handleShow(row._id)}>\r\n\r\n        Add Message\r\n      </Button> \r\n\r\n      \r\n\r\n      <Modal show={this.state.show} onHide={()=>this.handleClose()}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Add Message </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body><form>\r\n  <label>\r\n    Message : \r\n    <input type=\"text\" name=\"message\" value={this.state.message} onChange={this.handleChange} />\r\n  </label>\r\n</form>\r\n</Modal.Body> \r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>this.handleClose()}>\r\n            Close\r\n          </Button>\r\n\r\n          <Button variant=\"primary\"  onClick={()=>this.handleAddMessage(this.state.id,this.state.message)}>\r\n            Add Message\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n</TableCell>\r\n\r\n            </TableRow>\r\n      )} </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  </div>:\r\n        <div className=\"jumbotron mt-5\">\r\n        <div className=\"col-sm-8 mx-auto\">\r\n          <h1 className=\"text-center\">USER PAGE<br></br>TICKETS</h1>\r\n        </div>\r\n       \r\n        <TableContainer component={Paper}>\r\n    <Table size=\"small\" aria-label=\"a dense table\">\r\n\r\n      <TableHead>\r\n        <TableRow>\r\n          \r\n          <TableCell>TicketName</TableCell>\r\n          <TableCell align=\"right\">Content</TableCell>\r\n          <TableCell align=\"right\">Ä°mage</TableCell>\r\n          <TableCell align=\"right\">Message</TableCell>\r\n          <TableCell align=\"right\">Status</TableCell>\r\n          <TableCell align=\"right\" >Add Message</TableCell>\r\n          \r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody> \r\n            \r\n    {this.state.data.length>0 && this.state.data.map((row,index)=>\r\n       <TableRow key={index}>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {row.name}\r\n            </TableCell>\r\n            <TableCell align=\"right\">{row.content}</TableCell>\r\n            <TableCell align=\"right\"><a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}><img width=\"100px\" src={`http://localhost:5000/public/${row.img}`}></img></a></TableCell>\r\n            {row.messages.map((message)=>\r\n              <>\r\n              <span>{message.text}</span>\r\n              \r\n                <br/>\r\n                </>\r\n              )}\r\n            <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\r\n            \r\n<TableCell align=\"right\">   <>\r\n    <Button    name=\"addButton\" size=\"sm\" variant=\"primary\" onClick={()=>this.handleShow(row._id)}>\r\n\r\n      Add Message\r\n    </Button> \r\n\r\n    \r\n\r\n    <Modal show={this.state.show} onHide={()=>this.handleClose()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add Message</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body><form>\r\n<label>\r\n  Message : \r\n  <input type=\"text\" name=\"message\" value={this.state.message} onChange={this.handleChange} />\r\n</label>\r\n</form>\r\n</Modal.Body> \r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={()=>this.handleClose()}>\r\n          Close\r\n        </Button>\r\n   \r\n        <Button variant=\"primary\"  onClick={()=>this.handleAddMessage(this.state.id,this.state.message)}>\r\n          Add Message\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  </>\r\n</TableCell>\r\n\r\n          </TableRow>\r\n    )} </TableBody>\r\n    </Table>\r\n  </TableContainer>\r\n</div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ShowTickets"]},"metadata":{},"sourceType":"module"}